{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var baseURL='https://strangers-things.herokuapp.com/api/2206-FTB-ET-WEB-PT';export var getPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(token){var response,results;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(baseURL,\"/posts\"),{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:results=_context.sent;return _context.abrupt(\"return\",results);case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log('error getting all posts');case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function getPosts(_x){return _ref.apply(this,arguments);};}();export var registerUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(username,password){var response,result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"\".concat(baseURL,\"/users/register\"),{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({user:{username:username,password:password}})});case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:result=_context2.sent;return _context2.abrupt(\"return\",result);case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log(\"error registering user\");case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function registerUser(_x2,_x3){return _ref2.apply(this,arguments);};}();export var loginUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(username,password){var response,result;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"\".concat(baseURL,\"/users/login\"),{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({user:{username:username,password:password}})});case 3:response=_context3.sent;_context3.next=6;return response.json();case 6:result=_context3.sent;return _context3.abrupt(\"return\",result);case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);console.log(\"error user is not registered\");case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,10]]);}));return function loginUser(_x4,_x5){return _ref3.apply(this,arguments);};}();export var getUserProfile=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(token){var response,result;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return fetch(\"\".concat(baseURL,\"/users/me\"),{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}});case 3:response=_context4.sent;_context4.next=6;return response.json();case 6:result=_context4.sent;return _context4.abrupt(\"return\",result);case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](0);console.log(\"error, could not get user profile\");case 13:case\"end\":return _context4.stop();}}},_callee4,null,[[0,10]]);}));return function getUserProfile(_x6){return _ref4.apply(this,arguments);};}();export var createPost=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(token,title,description,price,location,deliverOption){var response,result;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return fetch(\"\".concat(baseURL,\"/posts\"),{method:\"POST\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({post:{title:title,description:description,price:\"$\".concat(price),location:location,willDeliver:deliverOption}})});case 3:response=_context5.sent;_context5.next=6;return response.json();case 6:result=_context5.sent;return _context5.abrupt(\"return\",result);case 10:_context5.prev=10;_context5.t0=_context5[\"catch\"](0);console.log('error, unable to create new post');case 13:case\"end\":return _context5.stop();}}},_callee5,null,[[0,10]]);}));return function createPost(_x7,_x8,_x9,_x10,_x11,_x12){return _ref5.apply(this,arguments);};}();export var deletePost=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(postID,token){var response,result;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return fetch(\"\".concat(baseURL,\"/posts/\").concat(postID),{method:\"DELETE\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token,\" \")}});case 3:response=_context6.sent;_context6.next=6;return response.json();case 6:result=_context6.sent;return _context6.abrupt(\"return\",result);case 10:_context6.prev=10;_context6.t0=_context6[\"catch\"](0);console.log('error deleting post');case 13:case\"end\":return _context6.stop();}}},_callee6,null,[[0,10]]);}));return function deletePost(_x13,_x14){return _ref6.apply(this,arguments);};}();export var sendMessage=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(postID,messageString,token){var response,result;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return fetch(\"\".concat(baseURL,\"/posts/\").concat(postID,\"/messages\"),{method:\"POST\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token,\" \")},body:JSON.stringify({message:{content:messageString}})});case 3:response=_context7.sent;_context7.next=6;return response.json();case 6:result=_context7.sent;return _context7.abrupt(\"return\",result);case 10:_context7.prev=10;_context7.t0=_context7[\"catch\"](0);console.log('error, unable to send message');case 13:case\"end\":return _context7.stop();}}},_callee7,null,[[0,10]]);}));return function sendMessage(_x15,_x16,_x17){return _ref7.apply(this,arguments);};}();export var updatePost=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(token,title,description,price,location,deliverOption,_id){var response,result;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return fetch(\"\".concat(baseURL,\"/posts/\").concat(_id),{method:\"PATCH\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({post:{title:title,description:description,price:\"$\".concat(price),location:location,willDeliver:deliverOption}})});case 3:response=_context8.sent;_context8.next=6;return response.json();case 6:result=_context8.sent;return _context8.abrupt(\"return\",result);case 10:_context8.prev=10;_context8.t0=_context8[\"catch\"](0);console.log('error, unable to update post');case 13:case\"end\":return _context8.stop();}}},_callee8,null,[[0,10]]);}));return function updatePost(_x18,_x19,_x20,_x21,_x22,_x23,_x24){return _ref8.apply(this,arguments);};}();","map":{"version":3,"names":["baseURL","getPosts","token","fetch","headers","response","json","results","console","log","registerUser","username","password","method","body","JSON","stringify","user","result","loginUser","getUserProfile","createPost","title","description","price","location","deliverOption","post","willDeliver","deletePost","postID","sendMessage","messageString","message","content","updatePost","_id"],"sources":["/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/src/api/index.js"],"sourcesContent":["const baseURL = 'https://strangers-things.herokuapp.com/api/2206-FTB-ET-WEB-PT'\n\nexport const getPosts = async (token) => {\n    try {\n        const response = await fetch(`${baseURL}/posts`, {\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n            }})\n        const results = await response.json()\n\n        return results\n\n\n    } catch (error) {\n        console.log ('error getting all posts')\n    }\n    \n\n}\n\nexport const registerUser = async (username,password) => {\n    try {\n        const response = await fetch (`${baseURL}/users/register`, {\n            method: \"POST\",\n            headers: {\n            'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n            user: {\n                username: username,\n                password: password\n            }\n            })\n        }) \n        const result = await response.json();\n\n        return result\n\n    } catch (error) {\n        console.log(\"error registering user\")\n    }\n}\n\nexport const loginUser = async (username,password) => {\n    try {\n        const response = await fetch (`${baseURL}/users/login`, {\n            method: \"POST\",\n            headers: {\n            'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n            user: {\n                username: username,\n                password: password\n            }\n            })\n        }) \n        const result = await response.json();\n\n        return result\n\n    } catch (error) {\n        console.log(\"error user is not registered\")\n    }\n}\n\nexport const getUserProfile = async (token) => {\n    try {\n        const response = await fetch(`${baseURL}/users/me`, {\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${token}`\n            },\n        }) \n        const result = await response.json();\n\n        return result\n\n    } catch (error) {\n        console.log(\"error, could not get user profile\")\n    }\n}\n\nexport const createPost = async (token, title, description, price, location, deliverOption) => {\n    try {\n        const response = await fetch(`${baseURL}/posts`, {\n            method: \"POST\",\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify({\n              post: {\n                title,\n                description,\n                price: `$${price}`,\n                location,\n                willDeliver: deliverOption,\n              }\n            })\n        })\n        const result = await response.json();\n\n        return result\n\n    } catch (error) {\n        console.log('error, unable to create new post')\n    }\n}\n\nexport const deletePost = async (postID, token) => {\n    try {\n        const response = await fetch(`${baseURL}/posts/${postID}`, {\n        method: \"DELETE\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token} `\n        }\n        })\n        const result = await response.json();\n\n        return result\n\n    } catch (error) {\n        console.log('error deleting post')\n    }\n}\n\nexport const sendMessage = async (postID, messageString, token) => {\n    try {\n        const response = await fetch(`${baseURL}/posts/${postID}/messages`, {\n            method: \"POST\",\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${token} `\n            },\n            body: JSON.stringify({\n              message: {\n                content: messageString\n              }\n            })\n        })\n            const result = await response.json();\n\n            return result\n\n    } catch (error) {\n        console.log('error, unable to send message')\n    }\n}\n\nexport const updatePost = async (token, title, description, price, location, deliverOption, _id) => {\n    try {\n        const response = await fetch(`${baseURL}/posts/${_id}`, {\n            method: \"PATCH\",\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify({\n              post: {\n                title,\n                description,\n                price: `$${price}`,\n                location,\n                willDeliver: deliverOption,\n              }\n            })\n        })\n        const result = await response.json();\n\n        return result\n\n    } catch (error) {\n        console.log('error, unable to update post')\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}