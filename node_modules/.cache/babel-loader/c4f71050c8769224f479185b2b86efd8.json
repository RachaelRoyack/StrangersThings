{"ast":null,"code":"import _slicedToArray from\"/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useState}from\"react\";import{Link}from'react-router-dom';import'./Posts.css';import{deletePost}from\"../api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Posts=function Posts(props){var posts=props.posts,token=props.token;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var postMatches=function postMatches(post,string){var description=post.description,title=post.title;if(title.toLowerCase().includes(string.toLowerCase())||description.toLowerCase().includes(string.toLowerCase())){return post;}};var filteredPosts=posts.filter(function(post){return postMatches(post,searchTerm);});var postsToDisplay=searchTerm.length?filteredPosts:posts;return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"postAndSearch\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"postHeader\",children:\"POSTS\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"PostsList\",onSubmit:function onSubmit(event){event.preventDefault();},children:[/*#__PURE__*/_jsx(\"input\",{className:\"postSearchBar\",type:\"text\",placeholder:\"search\",onChange:function onChange(event){return setSearchTerm(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"createPostButton\",children:/*#__PURE__*/_jsx(Link,{to:\"/createNewPost\",children:\"Add Post\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"postsContainer\",children:postsToDisplay.map(function(post){var description=post.description,location=post.location,price=post.price,title=post.title,_id=post._id,willDeliver=post.willDeliver,isAuthor=post.isAuthor;return/*#__PURE__*/_jsxs(\"div\",{className:\"Post\",children:[/*#__PURE__*/_jsx(\"h3\",{children:title}),/*#__PURE__*/_jsx(\"p\",{children:description}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Price:\"}),\" \",price]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",location]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Delivery: \"}),willDeliver?'Available':\"unavailable\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"buttonsAndMessages\",children:isAuthor?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Messages:\"}),post.messages.map(function(message){var content=message.content,fromUser=message.fromUser,post=message.post,_id=message._id;return/*#__PURE__*/_jsx(\"div\",{className:\"messagesForPost\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[fromUser.username,\": \"]}),\" \",content]})},_id);}),/*#__PURE__*/_jsxs(Fragment,{className:\"buttonsBelowPost\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"editButton\",children:/*#__PURE__*/_jsx(Link,{to:\"/posts/edit-post/\".concat(_id),children:\"Edit\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"deleteButton\",onClick:function onClick(event){event.preventDefault();deletePost(_id,token);},children:\"Delete\"})]})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Fragment,{className:\"buttonsBelowPost\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"viewButton\",children:/*#__PURE__*/_jsx(Link,{to:\"/posts/\".concat(_id),children:\"View\"})}),token?/*#__PURE__*/_jsx(\"button\",{className:\"messageButton\",children:/*#__PURE__*/_jsx(Link,{to:\"/posts/message/\".concat(_id),children:\"Message\"})}):null]})})})]},_id);})})]});};export default Posts;","map":{"version":3,"names":["React","Fragment","useState","Link","deletePost","Posts","props","posts","token","searchTerm","setSearchTerm","postMatches","post","string","description","title","toLowerCase","includes","filteredPosts","filter","postsToDisplay","length","event","preventDefault","target","value","map","location","price","_id","willDeliver","isAuthor","messages","message","content","fromUser","username"],"sources":["/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/src/Components/Posts.js"],"sourcesContent":["import React, { Fragment, useState} from \"react\";\nimport {Link }from 'react-router-dom';\nimport './Posts.css'\nimport { deletePost } from \"../api\";\n\nconst Posts = (props) => {\n    \n    const {posts, token} = props\n    const [searchTerm, setSearchTerm] = useState('')\n\n\n    const postMatches = (post, string) => {\n        const {description, title} = post;\n        \n        if (title.toLowerCase().includes(string.toLowerCase()) || description.toLowerCase().includes(string.toLowerCase())) {\n            return post\n        }\n        }\n\n      const filteredPosts = posts.filter(post => postMatches(post, searchTerm));\n      const postsToDisplay = searchTerm.length ? filteredPosts : posts\n\n\n         return (\n                <main>\n                    <div className=\"postAndSearch\">\n                        <h1 className='postHeader'>POSTS</h1>\n                        <form className=\"PostsList\" onSubmit = {(event)=> {\n                            event.preventDefault();    \n                            }\n                            }>\n                            <input className='postSearchBar'\n                            type='text'\n                            placeholder=\"search\"\n                            onChange = {(event) => setSearchTerm(event.target.value)}\n                            ></input>\n                            <button className=\"createPostButton\">\n                                <Link to='/createNewPost'>Add Post</Link>\n                            </button>\n                        </form>\n                    </div>\n                    <div className=\"postsContainer\">\n                    {postsToDisplay.map(post => {\n                    const {description, location, price, title, _id, willDeliver, isAuthor} = post;\n                    return <div key={_id} className='Post'>\n                            <h3>{title}</h3>\n                            <p>{description}</p>\n                            <p><strong>Price:</strong> {price}</p>\n                            <p><strong>Location:</strong> {location}</p>\n                            <p><strong>Delivery: </strong>{willDeliver ? 'Available' : \"unavailable\"}</p>\n                            <p className=\"buttonsAndMessages\">\n                            {\n                                isAuthor ? (\n                                    <>\n                                        <h3>Messages:</h3>\n                                        {post.messages.map(message => {\n                                            const {content, fromUser, post, _id} = message\n                                            return <div key={_id} className=\"messagesForPost\">\n                                                        <p><strong>{fromUser.username}: </strong> {content}</p>\n                                                    </div>})\n                                        }\n                                        <Fragment className='buttonsBelowPost'>\n                                            <button className=\"editButton\">\n                                                <Link to={`/posts/edit-post/${_id}`}>Edit</Link>\n                                            </button>\n                                            <button className=\"deleteButton\" onClick={(event) => {event.preventDefault(); deletePost(_id,token)}\n                                            }>Delete</button>\n                                        </Fragment>\n                                    </>\n                                ) : (\n                                    <>\n                                    <Fragment className='buttonsBelowPost'>\n                                        <button className=\"viewButton\">\n                                            <Link to={`/posts/${_id}`}>View</Link>\n                                        </button>\n                                       { token ? <button className=\"messageButton\"><Link to={`/posts/message/${_id}`}>Message</Link></button>\n                                     : null}\n                                     </Fragment>\n                                    </>\n                                )\n                            }\n                            </p>\n                        </div>})}\n                        </div>\n                \n             </main>\n         )\n        }\n\n\n\nexport default Posts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}