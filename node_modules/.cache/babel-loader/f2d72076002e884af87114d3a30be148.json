{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import ReactDOM from'react-dom/client';import{getUserProfile}from\"./api\";import{Route,BrowserRouter,Routes,useNavigate}from'react-router-dom';import\"./style.css\";//for below will automatically look for index.js since working with javascript\nimport{Navbar,Posts,Profile,Home,Register,Login,CreateNewPost,SinglePostView,Message,EditPost}from'./Components';import{getPosts}from'./api';/*\nComponents needed for this project:\nLogin\nRegistration\nPosts\nAddPost\nProfile\nNavbar\n\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),token=_useState4[0],setToken=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),username=_useState6[0],setUsername=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),userProfile=_useState10[0],setUserProfile=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),open=_useState12[0],setOpen=_useState12[1];var navigate=useNavigate();var logout=function logout(){window.localStorage.removeItem('token');setToken('');setUserProfile({});};var fetchPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var results;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getPosts(token);case 2:results=_context.sent;setPosts(results.data.posts);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchPosts(){return _ref.apply(this,arguments);};}();var getProfile=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var storedToken,myProfile;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:storedToken=window.localStorage.getItem('token');if(token){_context2.next=4;break;}if(storedToken){setToken(storedToken);}return _context2.abrupt(\"return\");case 4:_context2.next=6;return getUserProfile(token);case 6:myProfile=_context2.sent;if(myProfile.success){setUserProfile(myProfile.data);}else{console.log(myProfile.error.message);}case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function getProfile(){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchPosts();},[token]);useEffect(function(){getProfile();},[token]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{logout:logout,token:token}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/posts\",element:/*#__PURE__*/_jsx(Posts,{posts:posts,token:token})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{userProfile:userProfile,posts:posts})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{open:open,setOpen:setOpen,setUserProfile:setUserProfile,setToken:setToken,setUsername:setUsername,username:username,setPassword:setPassword,password:password,navigate:navigate})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{open:open,setOpen:setOpen,setUserProfile:setUserProfile,setToken:setToken,setUsername:setUsername,username:username,setPassword:setPassword,password:password,navigate:navigate})}),/*#__PURE__*/_jsx(Route,{path:\"/createNewPost\",element:/*#__PURE__*/_jsx(CreateNewPost,{token:token,navigate:navigate,open:open,setOpen:setOpen,fetchPosts:fetchPosts})}),/*#__PURE__*/_jsx(Route,{path:\"/posts/:postID\",element:/*#__PURE__*/_jsx(SinglePostView,{posts:posts})}),/*#__PURE__*/_jsx(Route,{path:\"/posts/message/:postID\",element:/*#__PURE__*/_jsx(Message,{posts:posts,token:token,open:open,setOpen:setOpen,navigate:navigate,setUserProfile:setUserProfile})}),/*#__PURE__*/_jsx(Route,{path:\"/posts/edit-post/:postID\",element:/*#__PURE__*/_jsx(EditPost,{posts:posts,token:token,navigate:navigate,fetchPosts:fetchPosts})})]})]});};//new way to render when react is 18 or later\nvar container=document.querySelector('#container');var root=ReactDOM.createRoot(container);root.render(/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(App,{})}));","map":{"version":3,"names":["React","useState","useEffect","ReactDOM","getUserProfile","Route","BrowserRouter","Routes","useNavigate","Navbar","Posts","Profile","Home","Register","Login","CreateNewPost","SinglePostView","Message","EditPost","getPosts","App","posts","setPosts","token","setToken","username","setUsername","password","setPassword","userProfile","setUserProfile","open","setOpen","navigate","logout","window","localStorage","removeItem","fetchPosts","results","data","getProfile","storedToken","getItem","myProfile","success","console","log","error","message","container","document","querySelector","root","createRoot","render"],"sources":["/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/src/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ReactDOM from 'react-dom/client';\nimport { getUserProfile } from \"./api\";\nimport {\n    Route, BrowserRouter, Routes, useNavigate\n} from 'react-router-dom'\nimport \"./style.css\";\n\n\n\n\n//for below will automatically look for index.js since working with javascript\nimport {\n    Navbar,\n    Posts,\n    Profile,\n    Home,\n    Register,\n    Login,\n    CreateNewPost,\n    SinglePostView,\n    Message,\n    EditPost,\n    \n  } from './Components';\n  import {\n    getPosts,\n  } from './api';\n\n/*\nComponents needed for this project:\nLogin\nRegistration\nPosts\nAddPost\nProfile\nNavbar\n\n*/\n\nconst App = () => {\n    const [ posts, setPosts ] = useState([]);\n    const [ token, setToken ] = useState('');\n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n    const [userProfile, setUserProfile] = useState({})\n    const [open, setOpen] = useState(false)\n    const navigate = useNavigate();\n\n    const logout = () => {\n        window.localStorage.removeItem('token');\n        setToken('') \n        setUserProfile({});\n    }\n\n    const fetchPosts = async() => {\n        const results = await getPosts(token)\n        setPosts(results.data.posts)\n    }\n    const getProfile = async() => {\n        const storedToken = window.localStorage.getItem('token')\n\n        if (!token) {\n            if (storedToken) {\n            setToken(storedToken);\n            }\n            return\n        }\n        const myProfile = await getUserProfile(token)\n        if (myProfile.success) {\n            setUserProfile(myProfile.data);\n        } else {\n            console.log(myProfile.error.message);\n        }\n    }\n   \n\n    useEffect (() => {\n        fetchPosts()\n    },[token])\n\n    useEffect ( () => {\n        getProfile();\n    }, [token])\n\n    return (\n        <div>\n            <Navbar logout={logout} token={token}/>\n            <Routes>\n                <Route path='/' element={<Home />} />\n                <Route path='/posts' element={<Posts posts={posts} token={token} />} />\n                <Route path='/profile' element={<Profile userProfile={userProfile} posts={posts}/>} />\n                <Route path='/register' element={<Register \n                    open={open} \n                    setOpen={setOpen} \n                    setUserProfile={setUserProfile} \n                    setToken={setToken} \n                    setUsername={setUsername} \n                    username={username} \n                    setPassword={setPassword} \n                    password={password} \n                    navigate={navigate}/>} \n                />\n                <Route path='/login' element={<Login \n                    open={open} \n                    setOpen={setOpen} \n                    setUserProfile={setUserProfile} \n                    setToken={setToken} \n                    setUsername={setUsername} \n                    username={username} \n                    setPassword={setPassword} \n                    password={password} \n                    navigate={navigate}/>} \n                />\n                <Route path='/createNewPost' \n                element={<CreateNewPost \n                token={token} navigate={navigate} \n                open={open} setOpen={setOpen}\n                fetchPosts={fetchPosts}/>} />\n                <Route path ='/posts/:postID' element={<SinglePostView posts={posts} />} />\n                <Route path ='/posts/message/:postID' element={<Message \n                posts={posts} \n                token={token} \n                open={open} \n                setOpen={setOpen}\n                navigate={navigate}\n                setUserProfile={setUserProfile} />} />\n                <Route path ='/posts/edit-post/:postID' element={<EditPost posts={posts} token={token} navigate={navigate} fetchPosts={fetchPosts}/>} />\n            </Routes>\n            \n        </div>\n    )\n}\n\n\n\n//new way to render when react is 18 or later\nconst container = document.querySelector('#container');\nconst root = ReactDOM.createRoot(container);\nroot.render(\n    <BrowserRouter>\n            <App />\n    </BrowserRouter>);\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}