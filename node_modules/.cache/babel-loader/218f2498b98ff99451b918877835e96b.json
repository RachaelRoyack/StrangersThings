{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import'./CreateNewPost.css';import{createPost}from\"../api\";import{Snackbar}from\"@mui/material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateNewPost=function CreateNewPost(_ref){var token=_ref.token,navigate=_ref.navigate,open=_ref.open,setOpen=_ref.setOpen,fetchPosts=_ref.fetchPosts;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),location=_useState8[0],setLocation=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),willDeliver=_useState10[0],setWillDeliver=_useState10[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var results,form;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return createPost(token,title,description,price,location,willDeliver);case 2:results=_context.sent;if(results.success){fetchPosts();navigate('/posts');}else{setOpen(true);form=document.querySelector('form');form.reset();}case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"main\",{className:\"CreatePost\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add Post\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"postSubmitForm\",onSubmit:function onSubmit(event){event.preventDefault();handleSubmit();},children:[/*#__PURE__*/_jsx(Snackbar,{open:open,anchorOrigin:{vertical:\"top\",horizontal:\"center\"},message:\"There was an error uploading your post, please try again\",autoHideDuration:2000,onClose:function onClose(){return setOpen(false);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"newPostInput\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"title\",onChange:function onChange(event){return setTitle(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"newPostInput\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"description\",onChange:function onChange(event){return setDescription(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"newPostInput\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"price\",onChange:function onChange(event){return setPrice(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"newPostInput\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"location\",onChange:function onChange(event){return setLocation(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"newPostInput\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Will you deliver?\"}),/*#__PURE__*/_jsx(\"input\",{className:\"checkBox\",type:\"checkbox\",onChange:function onChange(event){return setWillDeliver(true);}})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit Post\"})})]})]});};export default CreateNewPost;","map":{"version":3,"names":["React","useState","createPost","Snackbar","CreateNewPost","token","navigate","open","setOpen","fetchPosts","title","setTitle","description","setDescription","price","setPrice","location","setLocation","willDeliver","setWillDeliver","handleSubmit","results","success","form","document","querySelector","reset","event","preventDefault","vertical","horizontal","target","value"],"sources":["/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/src/Components/CreateNewPost.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport './CreateNewPost.css'\nimport { createPost } from \"../api\";  \nimport { Snackbar } from \"@mui/material\";\n\nconst CreateNewPost = ({token, navigate, open, setOpen, fetchPosts, }) => {\n    const [title, setTitle] = useState('')\n    const [description, setDescription] = useState('')\n    const [price, setPrice] = useState('')\n    const [location, setLocation] = useState('')\n    const [willDeliver, setWillDeliver] = useState(false)\n\n    const handleSubmit = async () => {\n    const results = await createPost(token, title, description, price, location, willDeliver);\n    \n        if (results.success) {\n            fetchPosts();\n            navigate('/posts') \n        } else {\n            setOpen(true)\n            let form = document.querySelector('form')\n            form.reset()\n        }\n    }\n\n    return (\n        <main className=\"CreatePost\">\n            <h1>Add Post</h1>\n            <form className='postSubmitForm' onSubmit = {(event)=> {\n            event.preventDefault();\n                handleSubmit()\n            }\n            }>\n            <Snackbar \n                open={open}\n                anchorOrigin= {{vertical: \"top\", horizontal: \"center\"}}\n                message='There was an error uploading your post, please try again' \n                autoHideDuration={2000} \n                onClose={() => setOpen(false)}\n                >\n            </Snackbar>\n            <div className=\"newPostInput\">\n                    <h3>Title</h3>\n                    <input\n                    type='text'\n                    placeholder=\"title\"\n                    onChange ={event => setTitle(event.target.value)} >\n                    </input>\n                </div>\n                <div className=\"newPostInput\">\n                    <h3>Description</h3>\n                    <input\n                    type='text'\n                    placeholder=\"description\"\n                    onChange ={event => setDescription(event.target.value)} >\n                    </input>\n                </div>\n                <div className=\"newPostInput\">\n                    <h3>Price</h3>\n                    <input\n                    type='text'\n                    placeholder=\"price\"\n                    onChange ={event => setPrice(event.target.value)} >\n                </input>\n                </div>\n                <div className=\"newPostInput\">\n                    <h3>Location</h3>\n                    <input\n                    type='text'\n                    placeholder=\"location\"\n                    onChange ={event => setLocation(event.target.value)} >\n                </input>\n                </div>\n                <div className=\"newPostInput\">\n                    <h3>Will you deliver?</h3>\n                    <input className=\"checkBox\"\n                    type='checkbox'\n                    onChange ={event => setWillDeliver(true)} >\n                    </input>\n                </div>\n                <div>\n                    <button type=\"submit\">Submit Post</button>\n                </div>\n            </form>\n            \n        </main>\n    )\n}\n\nexport default CreateNewPost;"],"mappings":"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"},"metadata":{},"sourceType":"module"}