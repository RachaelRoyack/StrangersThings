{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";import{registerUser,getUserProfile}from\"../api\";import{Snackbar}from\"@mui/material\";import'./Register.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(_ref){var setToken=_ref.setToken,navigate=_ref.navigate,setUsername=_ref.setUsername,username=_ref.username,setPassword=_ref.setPassword,password=_ref.password,setUserProfile=_ref.setUserProfile,setOpen=_ref.setOpen,open=_ref.open;var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var passwordRequirements,results,profileResults,myProfile,form;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:passwordRequirements=new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\\\d)(?=.*[-+_!@#$%^&*.,?]).+$\");if(!(password.length>=6&&passwordRequirements.test(password))){_context.next=19;break;}_context.next=4;return registerUser(username,password);case 4:results=_context.sent;if(!results.success){_context.next=16;break;}setToken(results.data.token);window.localStorage.setItem('token',results.data.token);//cannot use token by itself bc it would have to be rendered again for the value to be set to it\n//here you can add in spot for option to be logged in and build that out and inside of that you call in ...setItem\n_context.next=10;return getUserProfile(results.data.token);case 10:profileResults=_context.sent;myProfile=profileResults.data;setUserProfile(myProfile);navigate('/profile');//this is providing a route to go/navigate to\n_context.next=17;break;case 16:console.log(results.error);case 17:_context.next=24;break;case 19:form=document.querySelector(\"form\");setOpen(true);form.reset();setUsername('');setPassword('');case 24:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{className:\"registerForm\",onSubmit:function onSubmit(event){event.preventDefault();handleSubmit();},children:[/*#__PURE__*/_jsx(Snackbar,{open:open,anchorOrigin:{vertical:\"top\",horizontal:\"center\"},message:\"Password does not meet requirements, please try again\",autoHideDuration:2000,onClose:function onClose(){return setOpen(false);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"enterInfoRegister\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"setUsernameEntry\",type:\"text\",placeholder:\"Enter Username\",onChange:function onChange(event){return setUsername(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"setPasswordEntry\"//make type password to use dots when entered\n,type:\"password\",placeholder:\"Enter Password\",onChange:function onChange(event){return setPassword(event.target.value);}}),/*#__PURE__*/_jsx(\"h4\",{children:\"Password Requirements:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"passwordRulesList\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"passwordRule\",children:\"Must be at least 6 characters in length\"}),/*#__PURE__*/_jsx(\"li\",{className:\"passwordRule\",children:\"Must contain a capitol letter\"}),/*#__PURE__*/_jsx(\"li\",{className:\"passwordRule\",children:\"Must contain a lowercase letter\"}),/*#__PURE__*/_jsx(\"li\",{className:\"passwordRule\",children:\"Must include a number\"}),/*#__PURE__*/_jsx(\"li\",{className:\"passwordRule\",children:\"Must include a special character\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]})]});};export default Register;","map":{"version":3,"names":["React","registerUser","getUserProfile","Snackbar","Register","setToken","navigate","setUsername","username","setPassword","password","setUserProfile","setOpen","open","handleSubmit","passwordRequirements","RegExp","length","test","results","success","data","token","window","localStorage","setItem","profileResults","myProfile","console","log","error","form","document","querySelector","reset","event","preventDefault","vertical","horizontal","target","value"],"sources":["/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/src/Components/Register.js"],"sourcesContent":["import React from \"react\";\nimport { registerUser, getUserProfile } from \"../api\";\nimport { Snackbar } from \"@mui/material\";\nimport './Register.css'\n\n\nconst Register = ({ setToken, navigate, setUsername, username, setPassword, password, setUserProfile, setOpen, open, }) => {\n\n\n    const handleSubmit = async () => {\n        const passwordRequirements = new RegExp (\"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\\\d)(?=.*[-+_!@#$%^&*.,?]).+$\")\n\n        if ((password.length >= 6) && (passwordRequirements.test(password))) {\n            \n            const results = await registerUser(username, password);\n            \n            if (results.success) {\n                setToken(results.data.token)\n                window.localStorage.setItem('token', results.data.token) \n                //cannot use token by itself bc it would have to be rendered again for the value to be set to it\n                //here you can add in spot for option to be logged in and build that out and inside of that you call in ...setItem\n                const profileResults = await getUserProfile(results.data.token)\n                let myProfile = profileResults.data\n                setUserProfile(myProfile)\n                navigate('/profile') //this is providing a route to go/navigate to\n            } else {\n                console.log(results.error)\n            }\n        } else {\n            let form = document.querySelector(\"form\")\n            setOpen(true)\n            form.reset()\n            setUsername('')\n            setPassword('') \n\n        }\n    }\n\n\n    return (\n        <form className='registerForm' onSubmit = {(event)=> {\n            event.preventDefault()\n                handleSubmit()\n            }\n            }>\n            <Snackbar \n                open={open}\n                anchorOrigin= {{vertical: \"top\", horizontal: \"center\"}}\n                message='Password does not meet requirements, please try again' \n                autoHideDuration={2000} \n                onClose={() => setOpen(false)}\n                >\n            </Snackbar>\n            <div className='enterInfoRegister'>\n                <input className=\"setUsernameEntry\"\n                type='text'\n                placeholder=\"Enter Username\"\n                onChange={(event) => setUsername(event.target.value)}>\n                </input>\n                <input className=\"setPasswordEntry\"\n                //make type password to use dots when entered\n                type='password'\n                placeholder=\"Enter Password\"\n                onChange={(event) => setPassword(event.target.value) }>\n                </input>\n                <h4>Password Requirements:</h4>\n                <ul className=\"passwordRulesList\">\n                    <li className=\"passwordRule\">Must be at least 6 characters in length</li>\n                    <li className=\"passwordRule\">Must contain a capitol letter</li>\n                    <li className=\"passwordRule\">Must contain a lowercase letter</li>\n                    <li className=\"passwordRule\">Must include a number</li>\n                    <li className=\"passwordRule\">Must include a special character</li>\n                </ul>\n\n                <button type='submit'>Submit</button>\n            </div>\n        </form>\n    )\n}\n\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module"}