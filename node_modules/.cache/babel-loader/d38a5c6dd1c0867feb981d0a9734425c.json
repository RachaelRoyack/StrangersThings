{"ast":null,"code":"var _jsxFileName = \"/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/src/Components/Message.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { sendMessage, getUserProfile } from \"../api\";\nimport { Snackbar } from \"@mui/material\";\nimport './Message.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Message = _ref => {\n  _s();\n\n  let {\n    posts,\n    token,\n    open,\n    setOpen,\n    navigate,\n    setUserProfile\n  } = _ref;\n  const [message, setMessage] = useState('');\n  const {\n    postID\n  } = useParams();\n  const [currentPost] = posts.filter(post => post._id === postID); //this returns array of 1 item\n\n  const {\n    title,\n    description,\n    location,\n    price,\n    willDeliver,\n    _id\n  } = currentPost;\n\n  const handleSubmit = async () => {\n    const results = await sendMessage(_id, message, token);\n\n    if (results.success) {\n      setOpen(true);\n      const profileResults = await getUserProfile(token);\n      let myProfile = profileResults.data;\n      setUserProfile(myProfile);\n      navigate('/profile');\n    }\n  };\n\n  if (posts._id.lenght) {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"postInMessage\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Description: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 20\n          }, this), description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Price:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 20\n          }, this), \" \", price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Location:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 20\n          }, this), \" \", location]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 17\n        }, this), willDeliver ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Delivery: Yes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Delivery: No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 57\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"messageSection\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: event => {\n            event.preventDefault();\n            handleSubmit();\n          },\n          children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n            open: open,\n            anchorOrigin: {\n              vertical: \"top\",\n              horizontal: \"center\"\n            },\n            message: \"Message Sent\",\n            autoHideDuration: 2000,\n            onClose: () => setOpen(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Message User About This Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"type message here\",\n            onChange: event => setMessage(event.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Loading Message Box...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 12\n    }, this);\n  }\n};\n\n_s(Message, \"TpjHQqIg1xjXOCbSZnZEjbSDs1Q=\", false, function () {\n  return [useParams];\n});\n\n_c = Message;\nexport default Message;\n\nvar _c;\n\n$RefreshReg$(_c, \"Message\");","map":{"version":3,"names":["React","useState","useParams","sendMessage","getUserProfile","Snackbar","Message","posts","token","open","setOpen","navigate","setUserProfile","message","setMessage","postID","currentPost","filter","post","_id","title","description","location","price","willDeliver","handleSubmit","results","success","profileResults","myProfile","data","lenght","event","preventDefault","vertical","horizontal","target","value"],"sources":["/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/src/Components/Message.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { sendMessage, getUserProfile } from \"../api\";\nimport { Snackbar } from \"@mui/material\";\nimport './Message.css'\n\nconst Message = ({posts, token, open, setOpen, navigate, setUserProfile}) => {\n    const [message, setMessage] = useState('')\n\n    const { postID } = useParams();\n\n    const [currentPost] =  posts.filter(post => post._id === postID ); //this returns array of 1 item\n    const {title, description, location, price, willDeliver, _id} = currentPost;\n\n    const handleSubmit = async() => {\n        const results = await sendMessage(_id, message, token);\n        \n        if (results.success) {\n            setOpen(true)\n            const profileResults = await getUserProfile(token)\n            let myProfile = profileResults.data\n            setUserProfile(myProfile)\n            navigate('/profile') \n        } \n    }\n\n   if (posts._id.lenght){ return (\n        <main>\n            <div className='postInMessage'>\n                <h3>{title}</h3>\n                <p><strong>Description: </strong>{description}</p>\n                <p><strong>Price:</strong> {price}</p>\n                <p><strong>Location:</strong> {location}</p>\n                {willDeliver ? (<p>Delivery: Yes</p>) : <p>Delivery: No</p>}\n            </div>\n            <div className=\"messageSection\">\n                <form onSubmit = {(event)=> {\n                event.preventDefault();\n                    handleSubmit()\n                }}>\n                <Snackbar \n                    open={open}\n                    anchorOrigin= {{vertical: \"top\", horizontal: \"center\"}}\n                    message='Message Sent' \n                    autoHideDuration={2000} \n                    onClose={() => setOpen(false)}\n                    >\n                </Snackbar>\n                <h3>Message User About This Post</h3>\n                <input type='text' placeholder=\"type message here\" onChange={event => setMessage(event.target.value)}></input>\n                <button type='submit'>Send</button>\n                </form>\n            </div>\n        </main>\n\n    )\n} else {\n    return <h3>Loading Message Box...</h3>\n}\n}\n\nexport default Message;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}