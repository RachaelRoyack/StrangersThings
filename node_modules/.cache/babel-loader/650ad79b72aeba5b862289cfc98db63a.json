{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useParams}from\"react-router-dom\";import{updatePost}from\"../api\";import'./EditPost.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditPost=function EditPost(_ref){var posts=_ref.posts,token=_ref.token,navigate=_ref.navigate,fetchPosts=_ref.fetchPosts;if(posts.length){var _useParams=useParams(),postID=_useParams.postID;var _posts$filter=posts.filter(function(post){return post._id===postID;}),_posts$filter2=_slicedToArray(_posts$filter,1),currentPost=_posts$filter2[0];//this returns array of 1 item\nvar title=currentPost.title,description=currentPost.description,location=currentPost.location,price=currentPost.price,willDeliver=currentPost.willDeliver,_id=currentPost._id;var _useState=useState(title),_useState2=_slicedToArray(_useState,2),newTitle=_useState2[0],setNewTitle=_useState2[1];var _useState3=useState(description),_useState4=_slicedToArray(_useState3,2),newDescription=_useState4[0],setNewDescription=_useState4[1];var _useState5=useState(location),_useState6=_slicedToArray(_useState5,2),newLocation=_useState6[0],setNewLocation=_useState6[1];var _useState7=useState(price),_useState8=_slicedToArray(_useState7,2),newPrice=_useState8[0],setNewPrice=_useState8[1];var _useState9=useState(willDeliver),_useState10=_slicedToArray(_useState9,2),newWillDeliver=_useState10[0],setNewWillDeliver=_useState10[1];var editPost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var results;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return updatePost(token,newTitle,newDescription,newPrice,newLocation,newWillDeliver,_id);case 2:results=_context.sent;fetchPosts();navigate('/posts');case 5:case\"end\":return _context.stop();}}},_callee);}));return function editPost(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"EditPostContainer\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"EditPostForm\",onSubmit:function onSubmit(event){event.preventDefault();editPost();},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:title,onChange:function onChange(event){setNewTitle(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:description,onChange:function onChange(event){setNewDescription(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:price,onChange:function onChange(event){setNewPrice(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:location,onChange:function onChange(event){setNewLocation(event.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"deliveryEdit\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Will you deliver?\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",placeholder:newWillDeliver,onChange:function onChange(event){setNewWillDeliver(event.target.checked);}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Post\"})]})});}else{return/*#__PURE__*/_jsx(\"h1\",{children:\"Loading Edit Post Form...\"});}};export default EditPost;","map":{"version":3,"names":["React","useState","useParams","updatePost","EditPost","posts","token","navigate","fetchPosts","length","postID","filter","post","_id","currentPost","title","description","location","price","willDeliver","newTitle","setNewTitle","newDescription","setNewDescription","newLocation","setNewLocation","newPrice","setNewPrice","newWillDeliver","setNewWillDeliver","editPost","results","event","preventDefault","target","value","checked"],"sources":["/Users/rachaelroyack/Library/Mobile Documents/com~apple~CloudDocs/WINDOWS-CODING-CLASS/CODING-CLASS/Desktop/web-projects/coding-class/course_work/StrangerThings/src/Components/EditPost.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { updatePost } from \"../api\";\nimport './EditPost.css'\n\nconst EditPost = ({posts, token, navigate, fetchPosts}) => {\n\n    if (posts.length) {\n    const { postID } = useParams();\n\n    const [currentPost] =  posts.filter(post => post._id === postID ); //this returns array of 1 item\n    const {title, description, location, price, willDeliver, _id} = currentPost;\n\n    const [newTitle, setNewTitle] = useState(title);\n    const [newDescription, setNewDescription] = useState(description);\n    const [newLocation, setNewLocation] = useState(location);\n    const [newPrice, setNewPrice] = useState(price);\n    const [newWillDeliver, setNewWillDeliver] = useState(willDeliver);\n\n    const editPost = async() => {\n        const results = await updatePost(token, newTitle,newDescription, newPrice, newLocation, newWillDeliver, _id)\n        fetchPosts();\n        navigate('/posts') \n    }\n\n    return (<div className='EditPostContainer' >\n            <form className='EditPostForm' onSubmit={(event) => {\n                event.preventDefault();\n                editPost()\n            }}>\n                <input\n                type='text'\n                placeholder={title}\n                onChange={(event)=> {setNewTitle(event.target.value)}}\n                />\n                <input\n                type='text'\n                placeholder={description}\n                onChange={(event)=> {setNewDescription(event.target.value)}}\n                />\n                <input\n                type='text'\n                placeholder={price}\n                onChange={(event)=> {setNewPrice(event.target.value)}}\n                />\n                <input\n                type='text'\n                placeholder={location}\n                onChange={(event)=> {setNewLocation(event.target.value)}}\n                />\n                <div className='deliveryEdit'>\n                    <h3>Will you deliver?</h3>\n                    <input\n                    type='checkbox'\n                    placeholder={newWillDeliver}\n                    onChange={(event)=> {setNewWillDeliver(event.target.checked)}}\n                    />\n                </div>\n            <button type='submit'>Update Post</button>\n            </form>\n        </div>\n        ) } else {\n            return <h1>Loading Edit Post Form...</h1>\n        }\n}\n\nexport default EditPost;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}